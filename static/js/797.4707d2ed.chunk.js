"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{886:function(e,t,n){n.d(t,{Mc:function(){return p},Pv:function(){return v},wr:function(){return i},xo:function(){return d},y:function(){return f}});var r=n(5861),a=n(7757),o=n.n(a),c=n(2388),u=n(8022);function i(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(o().mark((function e(){var t,n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,n=u.jk.BASE_URL+u.jk.TRENDINGS_PATH_URL,r={params:{api_key:u.$h,page:t}},e.prev=2,e.next=5,c.Z.get(n,r);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),s.apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.jk.BASE_URL+u.jk.GET_MOVIE_DETAILS_PATH_URL+t,r={params:{api_key:u.$h}},e.prev=1,e.next=4,c.Z.get(n,r);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u.jk.BASE_URL,"movie/").concat(t,"/credits"),r={params:{api_key:u.$h}},e.prev=1,e.next=4,c.Z.get(n,r);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function d(e){return _.apply(this,arguments)}function _(){return _=(0,r.Z)(o().mark((function e(t){var n,r,a,i,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,r=u.jk.BASE_URL+u.jk.GET_MOVIE_DETAILS_PATH_URL+t+u.jk.REVIEW_URL_PATH,a={params:{api_key:u.$h,page:n}},e.prev=2,e.next=5,c.Z.get(r,a);case 5:return i=e.sent,e.abrupt("return",i.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),_.apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return x=(0,r.Z)(o().mark((function e(t){var n,r,a,i,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,r=u.jk.BASE_URL+u.jk.SEARCH_PATH_URL,a={params:{api_key:u.$h,page:n,query:t,include_adult:!1}},e.next=4,c.Z.get(r,a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}},8022:function(e,t,n){n.d(t,{$h:function(){return a},jk:function(){return r}});var r={BASE_URL:"https://api.themoviedb.org/3/",CAST_PATH_URL:"/credits",GENRES_PATH_URL:"genre/movie/list",TRENDINGS_PATH_URL:"trending/movie/day",SEARCH_PATH_URL:"search/movie",BASE_IMAGE_URL:"https://image.tmdb.org/t/p/w500",GET_MOVIE_DETAILS_PATH_URL:"movie/",REVIEW_URL_PATH:"/reviews"},a="4e55e991eb56041fecba3fbc73e3250b"},3797:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r,a,o,c,u,i=n(3433),s=n(5861),p=n(9439),l=n(7757),f=n.n(l),h=n(1087),d=n(7689),_=n(2791),v=n(9014),x=n(184),m=function(e){var t=e.handleSubmit;return(0,x.jsxs)("form",{onSubmit:t,children:[(0,x.jsx)("button",{type:"submit",children:"Search"}),(0,x.jsx)("input",{type:"text",name:"query",className:"input",placeholder:"Search movies"})]})},g=n(886),k=n(8022),y=n(5243),E=n(168),w=n(6444),Z=w.ZP.ul(r||(r=(0,E.Z)(["\n  display: flex;\n  width: 1200px;\n  margin: 0 auto;\n  padding: 15px;\n  flex-wrap: wrap;\n  gap: 15px;\n  list-style: none;\n"]))),b=w.ZP.li(a||(a=(0,E.Z)(["\n  width: calc((100% - 60px) / 3);\n"]))),j=w.ZP.img(o||(o=(0,E.Z)(["\n  max-width: 100%;\n  &:hover {\n    scale: 1.05;\n  }\n"]))),A=(0,w.ZP)(h.rU)(c||(c=(0,E.Z)(["\n  text-decoration: none;\n  color: #ffffff;\n"]))),S=function(e){var t=e.isLoading,n=e.results,r=(0,d.TH)();return(0,x.jsxs)(Z,{children:[(0,x.jsx)(y.p2,{height:"100",width:"100",color:"#641cf4",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:Boolean(t)}),n.map((function(e){var t=e.original_title,n=e.id,a=e.poster_path;return(0,x.jsx)(b,{children:(0,x.jsxs)(A,{to:"".concat(n),state:{from:r},children:[a&&(0,x.jsx)(j,{src:k.jk.BASE_IMAGE_URL+a,alt:t}),(0,x.jsx)("h2",{color:"#fff",children:t})]})},n)}))]})},L=(0,w.ZP)(h.rU)(u||(u=(0,E.Z)(["\n  display: inline-block;\n  text-decoration: none;\n  color: #ffffff;\n  margin: 15px;\n  padding: 5px;\n  border: 1px solid #ffffff;\n  border-radius: 3px;\n"]))),R=function(){var e=(0,d.TH)(),t=(0,_.useState)([]),n=(0,p.Z)(t,2),r=n[0],a=n[1],o=(0,_.useState)(!1),c=(0,p.Z)(o,2),u=c[0],l=c[1],k=(0,_.useState)(0),y=(0,p.Z)(k,2),E=y[0],w=y[1],Z=(0,h.lr)(),b=(0,p.Z)(Z,2),j=b[0],A=b[1],R=j.get("query"),T=j.get("page");return(0,_.useEffect)((function(){function e(){return(e=(0,s.Z)(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,(0,g.Pv)(R,T);case 4:t=e.sent,n=t.results,r=t.total_pages,a((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(n))})),w(r),l(!1),0!==n&&n||v.ZP.error("Nothing found for your request :("),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),v.ZP.error("Something went wrong :( Try reloading the page.");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}R&&0!==R.length&&function(){e.apply(this,arguments)}()}),[T,R]),(0,x.jsxs)("main",{children:[(0,x.jsx)(v.x7,{position:"top-right"}),(0,x.jsx)(L,{to:"/",children:"Go back"}),(0,x.jsx)(m,{handleSubmit:function(e){e.preventDefault(),A({query:e.target.elements.query.value,page:1}),a([])}}),(0,x.jsx)(S,{isLoading:u,results:r,state:{from:e}}),E>1&&(0,x.jsx)("button",{onClick:function(){A({query:R,page:Number(T)+1})},children:"Load more"})]})}}}]);
//# sourceMappingURL=797.4707d2ed.chunk.js.map