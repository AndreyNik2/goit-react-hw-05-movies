"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{886:function(e,t,r){r.d(t,{Mc:function(){return p},Pv:function(){return v},wr:function(){return i},xo:function(){return d},y:function(){return f}});var n=r(5861),a=r(7757),c=r.n(a),o=r(2388),u=r(8022);function i(){return s.apply(this,arguments)}function s(){return s=(0,n.Z)(c().mark((function e(){var t,r,n,a,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,r=u.jk.BASE_URL+u.jk.TRENDINGS_PATH_URL,n={params:{api_key:u.$h,page:t}},e.prev=2,e.next=5,o.Z.get(r,n);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),s.apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.jk.BASE_URL+u.jk.GET_MOVIE_DETAILS_PATH_URL+t,n={params:{api_key:u.$h}},e.prev=1,e.next=4,o.Z.get(r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(u.jk.BASE_URL,"movie/").concat(t,"/credits"),n={params:{api_key:u.$h}},e.prev=1,e.next=4,o.Z.get(r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function d(e){return _.apply(this,arguments)}function _(){return _=(0,n.Z)(c().mark((function e(t){var r,n,a,i,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:1,n=u.jk.BASE_URL+u.jk.GET_MOVIE_DETAILS_PATH_URL+t+u.jk.REVIEW_URL_PATH,a={params:{api_key:u.$h,page:r}},e.prev=2,e.next=5,o.Z.get(n,a);case 5:return i=e.sent,e.abrupt("return",i.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),_.apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return x=(0,n.Z)(c().mark((function e(t){var r,n,a,i,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:1,n=u.jk.BASE_URL+u.jk.SEARCH_PATH_URL,a={params:{api_key:u.$h,page:r,query:t,include_adult:!1}},e.next=4,o.Z.get(n,a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}},8022:function(e,t,r){r.d(t,{$h:function(){return a},jk:function(){return n}});var n={BASE_URL:"https://api.themoviedb.org/3/",CAST_PATH_URL:"/credits",GENRES_PATH_URL:"genre/movie/list",TRENDINGS_PATH_URL:"trending/movie/day",SEARCH_PATH_URL:"search/movie",BASE_IMAGE_URL:"https://image.tmdb.org/t/p/w500",GET_MOVIE_DETAILS_PATH_URL:"movie/",REVIEW_URL_PATH:"/reviews"},a="4e55e991eb56041fecba3fbc73e3250b"},3797:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var n,a,c,o,u,i=r(3433),s=r(5861),p=r(9439),l=r(7757),f=r.n(l),h=r(1087),d=r(7689),_=r(2791),v=r(9014),x=r(184),m=function(e){var t=e.handleSubmit;return(0,x.jsxs)("form",{onSubmit:t,children:[(0,x.jsx)("button",{type:"submit",children:"Search"}),(0,x.jsx)("input",{type:"text",name:"query",className:"input",placeholder:"Search movies"})]})},g=r(886),k=r(8022),y=r(5243),E=r(168),w=r(6444),Z=w.ZP.ul(n||(n=(0,E.Z)(["\n  display: flex;\n  width: 1200px;\n  margin: 0 auto;\n  padding: 15px;\n  flex-wrap: wrap;\n  gap: 15px;\n  list-style: none;\n"]))),b=w.ZP.li(a||(a=(0,E.Z)(["\n  width: calc((100% - 60px) / 3);\n"]))),j=w.ZP.img(c||(c=(0,E.Z)(["\n  max-width: 100%;\n  &:hover {\n    scale: 1.05;\n  }\n"]))),A=(0,w.ZP)(h.rU)(o||(o=(0,E.Z)(["\n  text-decoration: none;\n  color: #ffffff;\n"]))),R=function(e){var t=e.isLoading,r=e.results,n=(0,d.TH)();return(0,x.jsxs)(Z,{children:[(0,x.jsx)(y.p2,{height:"100",width:"100",color:"#641cf4",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:Boolean(t)}),r.map((function(e){var t=e.original_title,r=e.id,a=e.poster_path;return(0,x.jsx)(b,{children:(0,x.jsxs)(A,{to:"".concat(r),state:{from:n},children:[a&&(0,x.jsx)(j,{src:k.jk.BASE_IMAGE_URL+a,alt:t}),(0,x.jsx)("h2",{color:"#fff",children:t})]})},r)}))]})},S=(0,w.ZP)(h.rU)(u||(u=(0,E.Z)(["\n  display: inline-block;\n  text-decoration: none;\n  color: #ffffff;\n  margin: 15px;\n  padding: 5px;\n  border: 1px solid #ffffff;\n  border-radius: 3px;\n"]))),L=function(){var e=(0,d.TH)(),t=(0,_.useState)([]),r=(0,p.Z)(t,2),n=r[0],a=r[1],c=(0,_.useState)(!1),o=(0,p.Z)(c,2),u=o[0],l=o[1],k=(0,_.useState)(0),y=(0,p.Z)(k,2),E=y[0],w=y[1],Z=(0,_.useRef)(!1),b=(0,h.lr)(),j=(0,p.Z)(b,2),A=j[0],L=j[1],T=A.get("query"),U=A.get("page");return(0,_.useEffect)((function(){function e(){return(e=(0,s.Z)(f().mark((function e(){var t,r,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,(0,g.Pv)(T,U);case 4:t=e.sent,r=t.results,n=t.total_pages,a((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(r))})),w(n),l(!1),0!==r&&r||v.ZP.error("Nothing found for your request :("),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),v.ZP.error("Something went wrong :( Try reloading the page.");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}Z.current?T&&0!==T.length&&function(){e.apply(this,arguments)}():Z.current=!0}),[U,T]),(0,x.jsxs)("main",{children:[(0,x.jsx)(v.x7,{position:"top-right"}),(0,x.jsx)(S,{to:"/",children:"Go back"}),(0,x.jsx)(m,{handleSubmit:function(e){e.preventDefault(),L({query:e.target.elements.query.value,page:1}),a([])}}),(0,x.jsx)(R,{isLoading:u,results:n,state:{from:e}}),E>1&&(0,x.jsx)("button",{onClick:function(){L({query:T,page:Number(U)+1})},children:"Load more"})]})}}}]);
//# sourceMappingURL=797.4801250a.chunk.js.map